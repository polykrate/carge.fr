{
  "type": "object",
  "required": ["consumer"],
  "properties": {
    "consumer": {
      "type": "object",
      "required": [
        "consumerName",
        "purchaseDate",
        "retailerName",
        "consumerType",
        "purchaseLocation",
        "finalDestination",
        "batchNumber",
        "bottleNumber",
        "purchasePrice",
        "purchaseCurrency",
        "usage"
      ],
      "properties": {
        "consumerName": {
          "type": "string",
          "minLength": 1,
          "maxLength": 200,
          "description": "Name or pseudonym of the consumer (FIRST FIELD)"
        },
        "purchaseDate": {
          "type": "string",
          "format": "date",
          "description": "Date of purchase (YYYY-MM-DD)"
        },
        "retailerName": {
          "type": "string",
          "minLength": 1,
          "maxLength": 200,
          "description": "Name of the retailer where purchased"
        },
        "consumerType": {
          "type": "string",
          "enum": ["particulier", "collectionneur", "professionnel", "investisseur"],
          "description": "Type of consumer"
        },
        "purchaseLocation": {
          "type": "string",
          "minLength": 1,
          "maxLength": 200,
          "description": "Location of purchase (city, country)"
        },
        "finalDestination": {
          "type": "string",
          "minLength": 1,
          "maxLength": 200,
          "description": "Final destination (home, collection, etc.)"
        },
        "batchNumber": {
          "type": "string",
          "pattern": "^[A-Z0-9-]+$",
          "minLength": 1,
          "maxLength": 50,
          "description": "Batch number"
        },
        "bottleNumber": {
          "type": "string",
          "minLength": 1,
          "maxLength": 50,
          "description": "Individual bottle number"
        },
        "purchasePrice": {
          "type": "number",
          "minimum": 0.01,
          "maximum": 10000000,
          "description": "Purchase price"
        },
        "purchaseCurrency": {
          "type": "string",
          "enum": ["EUR", "USD", "GBP", "CNY", "HKD", "JPY"],
          "description": "Currency of purchase"
        },
        "usage": {
          "type": "string",
          "enum": ["Consumption", "Collection", "Investment", "Gift"],
          "description": "Intended use"
        },
        "tastingDate": {
          "type": "string",
          "format": "date",
          "description": "Date of tasting (optional)"
        },
        "rating": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5,
          "description": "Rating 1-5 stars (optional)"
        },
        "tastingNotes": {
          "type": "string",
          "maxLength": 1000,
          "description": "Tasting notes (nose, palate, finish) (optional)"
        },
        "feedback": {
          "type": "string",
          "maxLength": 1000,
          "description": "Consumer feedback about provenance and experience (optional)"
        }
      }
    }
  }
}

